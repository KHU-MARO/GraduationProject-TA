<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	<script type="text/javascript" src="renderer.js"></script>
	<title>Team608 | Typing Assistant</title>
</head>

<body>
	<h1>Typing Assistant</h1>
	<input type="button" id="btn-readfile" value="노트 불러오기">
	<div>
		<textarea id="file-section" rows="5" cols="70"></textarea>
	</div>
</body>

<script>
  // Filesystem module
  const fs = require("fs");

  // Dialogs module
  const {dialog} = require("electron").remote;

  document.getElementById("btn-readfile").addEventListener("click", () => {
    dialog.showOpenDialog((fileNames) => {
      if(fileNames === undefined) {
        console.log("No files were selected");
        return;
      }

      fs.readFile(fileNames[0], 'utf-8', (err, data) => {
        if(err) {
          console.log("Cannot read file ", err);
          return;
        }

        document.getElementById("file-section").value = data;
        console.log("The content of the file is : " + data);
      });
    });
  });
</script>
</html>

